from testlambda1 import main
import trio

# Uncomment and paste correct token to test
#async def test_valid_token():
#    token = "eyJraWQiOiJ5OTMwTWxtbGRndmY4ZXFZQ2EzWGgrdXpUbE9qMFQ3ZFV2UUV1SDJJbk9FPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoienBleFVDb3NxTUJzeENJYm9faFJXdyIsInN1YiI6IjdjMDkwNDJiLTJiNDUtNGNjYy1iMTdjLTMyNzEyNGJmZjE2NiIsImNvZ25pdG86Z3JvdXBzIjpbInVzLWVhc3QtMV9pckhXUmxYN2JfR29vZ2xlIl0sImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfaXJIV1JsWDdiIiwiY29nbml0bzp1c2VybmFtZSI6Imdvb2dsZV8xMTA5NTc5Mzc4OTIyOTE1ODMzNzkiLCJub25jZSI6Ikc5cG1qY3J4UDZ6THh6ZnRlSkZIWV9YMnp6OVZUQmtPR1Rfb3J6dThFejNKMDUtWUlJSUI0UUNER1JsbzFFRnpwQWMwRzJaQkxFa3piNEtiZ21uMU55VGpyRUJlWHVhZjRyTHlUYlpIWjlzcl9IQVg4SWVWQk9kbWthLTFfb1phc1R4RU9xM2g3NkVBX0FOVWpzVTNRd3VxSTNtdlRyd1BzNmdiTWxGckZjZyIsImF1ZCI6IjZ0ZWk0YnAzbnVwcHA1bXJlbmIwczQ5NmJxIiwiaWRlbnRpdGllcyI6W3sidXNlcklkIjoiMTEwOTU3OTM3ODkyMjkxNTgzMzc5IiwicHJvdmlkZXJOYW1lIjoiR29vZ2xlIiwicHJvdmlkZXJUeXBlIjoiR29vZ2xlIiwiaXNzdWVyIjpudWxsLCJwcmltYXJ5IjoidHJ1ZSIsImRhdGVDcmVhdGVkIjoiMTYxMzIwOTg1OTIwOCJ9XSwidG9rZW5fdXNlIjoiaWQiLCJhdXRoX3RpbWUiOjE2MTk0Mz#MzMDMsIm5hbWUiOiJWZXJvbmlrYSBEbXl0cnlrIiwiZXhwIjoxNjE5NDM2OTAzLCJpYXQiOjE2MTk0MzMzMDMsImVtYWlsIjoidmVyb25pa2EuZG15dHJ5a0BnbWFpbC5jb20ifQ.XQPOJ3crC1A8HdUv-2Q8EvOXc0-ujBiANEyl2ZSgHM5h0J5vyjoTI4St00m_Jrstt9m4IdUEAaFJwN-NHNkhoUj6siB2Pp3J4arY1EKe28MoA0U1Hm3U4OO5_rJRzfO6RqiXcOxbTOpcoDwJcgyFzjA9vbHVFFG3X-DAdELXoKbr6Oie62MxEBoSlqYaNCW5kzJ6K81Yzarn1JgmMXwDhYocwt7-2rNEVoDhGbSNS7JGqdQmg9l9mU9oRwSS7iwza4TDFiq2MkmDq7KJsQbv60TkjMP6Fue7g7hnLA2cSj3d7L4WFkWZFuCmvjg-uCPUWaTTTlK6_AabwtKUm44Hdg"
#    response = await main(token)
#    assert response['statusCode'] == 200

async def test_expired_token():
    token = "eyJraWQiOiJ5OTMwTWxtbGRndmY4ZXFZQ2EzWGgrdXpUbE9qMFQ3ZFV2UUV1SDJJbk9FPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiQUhRQ0tkX0dUY0dnZ3VTLUh6UkNIdyIsInN1YiI6IjdjMDkwNDJiLTJiNDUtNGNjYy1iMTdjLTMyNzEyNGJmZjE2NiIsImNvZ25pdG86Z3JvdXBzIjpbInVzLWVhc3QtMV9pckhXUmxYN2JfR29vZ2xlIl0sImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfaXJIV1JsWDdiIiwiY29nbml0bzp1c2VybmFtZSI6Imdvb2dsZV8xMTA5NTc5Mzc4OTIyOTE1ODMzNzkiLCJub25jZSI6IkVObzBPNmlYRGliRGFWY2h5VFgyb2YwMDFGUEFGTUNQUWlKSGJuWmNBVEw3blZOSTFFanhyNzhHLTBxNzhnSzNxbkc4T2pHazJ1dmxYRlVGMzRSX0ROUEZCejdEYnpLclFnVkdhc2U2dkNMVDhBQ1BiWFBHX3ExZlJRbV9vTlVrOXlOSlBOMFNQRHB6MGl2eTd1enNHbHBOWmZjemNLUkpjQjRxMk02WHNWayIsImF1ZCI6IjZ0ZWk0YnAzbnVwcHA1bXJlbmIwczQ5NmJxIiwiaWRlbnRpdGllcyI6W3sidXNlcklkIjoiMTEwOTU3OTM3ODkyMjkxNTgzMzc5IiwicHJvdmlkZXJOYW1lIjoiR29vZ2xlIiwicHJvdmlkZXJUeXBlIjoiR29vZ2xlIiwiaXNzdWVyIjpudWxsLCJwcmltYXJ5IjoidHJ1ZSIsImRhdGVDcmVhdGVkIjoiMTYxMzIwOTg1OTIwOCJ9XSwidG9rZW5fdXNlIjoiaWQiLCJhdXRoX3RpbWUiOjE2MTk0Mjk1MjksIm5hbWUiOiJWZXJvbmlrYSBEbXl0cnlrIiwiZXhwIjoxNjE5NDMzMTI5LCJpYXQiOjE2MTk0Mjk1MjksImVtYWlsIjoidmVyb25pa2EuZG15dHJ5a0BnbWFpbC5jb20ifQ.YvRwOX-HNPLYr6_df9PFDXhX-R4wGxnU_bSnb_oaFz73TBFALuei09piFhrKDLhBmGJ2Ogz3SLPg4saqqsa9u-Y9D0pr4PdeQqWTmtMSzV9IM7OytjFb9EemUFKW4DCdq1LAQ_6cc9Ftb3JRo0J-ZKCI_WdPEVOAPKQHJ2B2dUDODwjrm9B2TmoGiXeD_6oQdFfUQwESYNurLz8zvuXqc32OMDBlj1LA9kkBVxSnjRyJgjg0dHR7KF0CFFg7pIJKxgu1tgiNI4cb34MO7uOirS2_j52isd0kj_wQJpAKnMXf-SLrt5tKIdgMrFw3yYgnl-_tDr-5shLDXnHHhu1Eyw"
    response = await main(token)
    assert response['statusCode'] == 403